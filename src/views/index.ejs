<!-- Home Page -->
<div class="jumbotron bg-light p-5 rounded">
    <h1 class="display-4">Welcome to Eventure - <br>The Event Management System</h1>
    <p class="lead">Discover, book, and manage events with ease.</p>
    <hr class="my-4">
    <p>Find upcoming events in your area or create your own event.</p>
    <a class="btn btn-primary btn-lg" href="/events" role="button">Browse Events</a>
    <% if (!locals.user) { %>
        <a class="btn btn-outline-primary btn-lg ms-2" href="/auth/register" role="button">Sign Up</a>
    <% } else { %>
        <a class="btn btn-outline-primary btn-lg ms-2" href="/events/new" role="button">Create Event</a>
    <% } %>
</div>

<!-- Featured Events Section -->
<section class="my-5">
    <h2 class="mb-4">Featured Events</h2>
    <div class="row">
        <% if (featuredEvents && featuredEvents.length > 0) { %>
            <% featuredEvents.forEach(event => { %>
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title"><%= event.title %></h5>
                            <h6 class="card-subtitle mb-2 text-muted">
                                <%= new Date(event.event_date).toLocaleDateString() %>
                            </h6>
                            <p class="card-text">
                                <%= event.description.length > 100 
                                    ? event.description.substring(0, 100) + '...' 
                                    : event.description 
                                %>
                            </p>
                            <a href="/events/<%= event.event_id %>" class="btn btn-sm btn-primary">View Details</a>
                        </div>
                    </div>
                </div>
            <% }); %>
        <% } else { %>
            <div class="col-12">
                <p class="text-muted">No featured events found.</p>
            </div>
        <% } %>
    </div>
</section>

<!-- Categories Section -->
<section class="my-5">
    <h2 class="mb-4">Browse by Category</h2>
    <div class="row" id="categories">
        <!-- Static or dynamic categories (you can upgrade this section later) -->
        <div class="col-md-3 col-6 mb-4">
            <a href="/events/search?category=1" class="text-decoration-none">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <i class="fas fa-music fa-3x mb-3 text-primary"></i>
                        <h5 class="card-title">Music</h5>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-3 col-6 mb-4">
            <a href="/events/search?category=2" class="text-decoration-none">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <i class="fas fa-futbol fa-3x mb-3 text-primary"></i>
                        <h5 class="card-title">Sports</h5>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-3 col-6 mb-4">
            <a href="/events/search?category=3" class="text-decoration-none">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <i class="fas fa-laptop-code fa-3x mb-3 text-primary"></i>
                        <h5 class="card-title">Technology</h5>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-3 col-6 mb-4">
            <a href="/events/search?category=4" class="text-decoration-none">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <i class="fas fa-briefcase fa-3x mb-3 text-primary"></i>
                        <h5 class="card-title">Business</h5>
                    </div>
                </div>
            </a>
        </div>
    </div>
</section>
